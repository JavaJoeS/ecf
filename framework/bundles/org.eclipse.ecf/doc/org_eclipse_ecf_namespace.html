<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>ECF Namespace</title>
<style>@import url("file:/c:/eclipse3.1m7/eclipse/plugins/org.eclipse.platform_3.1.0/book.css");</style>
<style>@import url("file:/c:/eclipse3.1m7/eclipse/plugins/org.eclipse.platform.doc.isv_3.1.0/schema.css");</style>
</HEAD>
<BODY>
<H1><CENTER>ECF Namespace</CENTER></H1>
<p></p>
<h6 class=CaptionFigColumn id=header>Identifier: </h6>org.eclipse.ecf.namespace<p></p>
<h6 class=CaptionFigColumn id=header>Since: </h6>1.0.0
<p></p>

<p>
<h6 class=CaptionFigColumn id=header>Description: </h6>Extension point that allows other plugins to define new Namespaces for instantiating new types of identity.  Plugins can register themselves as 'providers' for namespaces that they define, and will then be called when ECF clients use the <b>org.eclipse.ecf.core.identity.IDFactory.makeID</b> identity factory.
<p>
Plugins implementing this extension point must define an instantiatorClass that implements <b>org.eclipse.ecf.core.identity.provider.IDInstantiator</b>.</p>
<p><h6 class=CaptionFigColumn id=header>Configuration Markup:</h6></p>
<p class=code id=dtd>&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.namespace">namespace</a>+)&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST extension</p>
<p class=code id=dtdAttlist>point&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.namespace">namespace</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST namespace</p>
<p class=code id=dtdAttlist>instantiatorClass&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>namespaceClass&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class=ConfigMarkup id=elementDesc>
Element allowing extension plugins to define new namespaces</p>
<br>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>instantiatorClass</b> - Required class name.  <b>Must</b> implement <b>org.eclipse.identity.provider.IDInstantiator</b></li>
<li><b>name</b> - Optional name for new namespace.  If not provided, the name will be assumed to be the fully qualified name of the instantiatorClass.  Note that this name must <b>not</b> conflict with any other namespace name in the ECF IDFactory in order to be successfully registered.  Care should therefore be taken in selection of a name such that it does not conflict with other implementations.</li>
<li><b>namespaceClass</b> - Optional class name of the Namespace class.  Defaults to <b>org.eclipse.ecf.core.identity.Namespace</b>.  Implementers may choose to create a subclass of the Namespace class, and can provide that class name here to use that class as the Namespace implementation.  Note that the class, if provided, <b>must</b> extend <b>org.eclipse.ecf.core.identity.Namespace</b> and also must implement the two public constructors defined in the Namespace superclass.</li>
<li><b>description</b> - An optional description for the implementation of this extension point</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.namespace">namespace</a>+)&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST extension</p>
<p class=code id=dtdAttlist>point&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.namespace">namespace</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST namespace</p>
<p class=code id=dtdAttlist>instantiatorClass&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>namespaceClass&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>description&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<p class=ConfigMarkup id=elementDesc>
Element allowing extension plugins to define new namespaces</p>
<br>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>instantiatorClass</b> - Required class name.  <b>Must</b> implement <b>org.eclipse.identity.provider.IDInstantiator</b></li>
<li><b>name</b> - Optional name for new namespace.  If not provided, the name will be assumed to be the fully qualified name of the instantiatorClass.  Note that this name must <b>not</b> conflict with any other namespace name in the ECF IDFactory in order to be successfully registered.  Care should therefore be taken in selection of a name such that it does not conflict with other implementations.</li>
<li><b>namespaceClass</b> - Optional class name of the Namespace class.  Defaults to <b>org.eclipse.ecf.core.identity.Namespace</b>.  Implementers may choose to create a subclass of the Namespace class, and can provide that class name here to use that class as the Namespace implementation.  Note that the class, if provided, <b>must</b> extend <b>org.eclipse.ecf.core.identity.Namespace</b> and also must implement the two public constructors defined in the Namespace superclass.</li>
<li><b>description</b> - An optional description for the implementation of this extension point</li>
</ul>
<br><h6 class=CaptionFigColumn id=header>Examples: </h6>Here's an extension definition that associates an namespace instantiatorClass with namespace 'testid' in the ECF <b>org.eclipse.ecf.core.identity.IDFactory</b>:

<pre>
   <p class=code id=tag>&lt;extension point=<p class=code id=cstring>&quot;org.eclipse.ecf.namespace&quot;</p><p class=code id=tag>&gt;</p>
      <p class=code id=tag>&lt;namespace name=<p class=code id=cstring>&quot;testid&quot;</p><p class=code id=tag> instantiatorClass=<p class=code id=cstring>&quot;org.eclipse.ecf.test.FooIDInstantiator&quot;</p><p class=code id=tag> description=<p class=code id=cstring>&quot;my namespace implementation&quot;</p><p class=code id=tag>/&gt;</p>
   <p class=code id=tag>&lt;/extension&gt;</p>
</pre>

Here is some example code to implement this FooIDInstantiator class:

<pre>
package org.eclipse.ecf.test;

import org.eclipse.ecf.core.identity.ID;
import org.eclipse.ecf.core.identity.IDInstantiationException;
import org.eclipse.ecf.core.identity.Namespace;

public class FooIDInstantiator implements
        org.eclipse.ecf.core.identity.provider.IDInstantiator {

    public FooIDInstantiator() {
        super();
    }
    public ID makeInstance(Namespace ns, Class[] argTypes, Object[] args)
            throws IDInstantiationException {
        return new FooID(ns, (String) args[0]);
    }
}
</pre>

In this example, the given class implements the <b>IDInstantiator</b>.makeInstance method by creating and returning a new instance of FooID, a class also defined in the extension plugin.  This class must implement <b>ID</b>, so that it can successfully be returned from makeInstance.

<h3>Example Usage of IDFactory by Clients</h3>

Clients that wish to use the 'testid' ID instantiator implementation can do so simply by making the following call to create an <b>IDFactory</b>:

<pre>
ID newID = IDFactory.makeID(&apos;testid&apos;,&apos;email@emailserver.com&apos;); 
// Further use of newID instance here

</pre>
<p></p>

<h6 class=CaptionFigColumn id=header>API Information: </h6>The API for this extension point is provided by the <b>org.eclipse.ecf.core.IDFactory</b> static methods.  Specifically, the 'makeID' static methods are to be used by clients.  The functionality provided by the extension point mechanism can be used at runtime via the <b>IDFactory.addNamespace(Namespace)</b> method.
<p></p>

<h6 class=CaptionFigColumn id=header>Supplied Implementation: </h6>The following implementations of this extension point are provided by ECF itself:
<p>
StringID -- A namespace of ID instances that are implemented by <b>org.eclipse.ecf.core.identity.StringID</b>
<p>Clients may use this namespace with calls to:
<pre>
ID newID = org.eclipse.ecf.core.identity.IDFactory.makeStringID(&apos;idstringvalue&apos;);
</pre>
</p>
</p>
<p>
LongID -- A namespace of ID instances that are implemented by <b>org.eclipse.ecf.core.identity.LongID</b>
<p>Clients may use this namespace with calls to:
<pre>
ID newID = org.eclipse.ecf.core.identity.IDFactory.makeLongID(2004L);
</pre>
</p>
</p>
<p>
GUID -- A namespace of ID instances that are implemented by <b>org.eclipse.ecf.core.identity.GUID</b>
<p>Clients may use this namespace with calls to:
<pre>
ID newID = org.eclipse.ecf.core.identity.IDFactory.makeGUID(16);
</pre>
</p>
</p>
<p></p>

<br>
<p class=note id=copyright>
Copyright (c) 2004 Composent, Inc. and others.
All rights reserved. This program and the accompanying materials are made available under the terms of the Eclipse Public License v1.0 which accompanies this distribution, and is available at http://www.eclipse.org/legal/epl-v10.html.  Contributors:  Composent, Inc. - initial API and implementation
<p></p>

</p>
</BODY>
</HTML>
